{"version":3,"file":"static/js/339.cb2be21c.chunk.js","mappings":"qKAI2E,SAASA,EAAEA,IAAI,OAADA,QAAC,IAADA,OAAC,EAADA,EAAGC,oBAAmBD,EAAEC,kBAAkBC,SAASC,IAAqC,IAAnCC,OAAOJ,EAAEK,SAASC,EAAEC,UAAUC,GAAEL,GAAIM,EAAAA,EAAAA,GAAET,IAAIQ,GAAGR,EAAEU,SAASJ,KAAKE,GAAGR,EAAEW,aAAaL,EAAEE,EAAE,GAAG,C,kBCApO,SAASR,EAAEA,GAAG,OAAOA,GAAG,gBAAgBA,GAAG,aAAaA,CAAC,C,+LCA8EY,eAAeC,EAAEL,GAAS,IAAPF,EAACQ,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAC,CAAC,EAAEG,EAACH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,QAAQR,EAAEU,KAAKD,GAAG,MAAMJ,GAAEJ,EAAAA,EAAAA,IAAED,EAAEW,QAAQ,cAAcC,MAAMC,EAAE,EAAEC,IAAIC,EAAE,GAAGC,UAAUC,EAAE,MAAMC,UAAUC,EAAE,YAAYrB,EAAEN,EAAE,CAAC4B,MAAM,CAACR,MAAMC,EAAEC,IAAIC,EAAEC,UAAUC,EAAEC,UAAUC,EAAEE,MAAMrB,EAAEsB,QAAQC,OAAQ,OAADd,QAAC,IAADA,OAAC,EAADA,EAAGc,QAAQC,QAAQxB,EAAEyB,OAAOC,QAAQrB,EAAEb,GAAG,MAAM,CAACmC,MAAMH,EAAEG,MAAMC,UAAUJ,EAAEI,UAAUC,UAAUL,EAAEK,UAAUC,KAAKnC,IAAA,IAAEoC,QAAQjC,EAAEkC,KAAK/B,EAAEgC,SAASxB,GAAEd,EAAA,MAAI,CAACoC,QAAQ,IAAIG,KAAKpC,GAAGkC,KAAK/B,EAAEgC,SAASjC,EAAEmC,iBAAiB1B,GAAG,IAAI,CAACL,eAAeS,EAAEb,EAAES,EAAEJ,EAAEQ,GAAG,MAAME,EAAE,IAAIqB,IAAI,IAAI,MAAMH,SAAShC,EAAEoC,QAAQ7C,EAAE8C,SAASd,EAAEe,OAAOC,KAAK/B,EAAE,CAAC,IAAIR,EAAEwC,UAAU,MAAM,IAAI3C,EAAAA,EAAE,wBAAD4C,OAAyBrC,EAAC,iBAAgB,uCAAuC,MAAML,EAAES,GAAGU,EAAElB,EAAE0C,MAAM9B,EAAC,GAAA6B,OAAI1C,EAAC,KAAA0C,OAAK,OAADlB,QAAC,IAADA,EAAAA,EAAG,GAAE,KAAAkB,OAAK,OAADF,QAAC,IAADA,EAAAA,EAAG,IAAKzB,EAAE6B,IAAI/B,IAAIE,EAAE8B,IAAIhC,EAAE,CAACiC,OAAO9C,EAAEsC,SAASd,EAAEe,OAAOC,EAAEO,MAAM,KAAKhC,EAAEiC,IAAInC,GAAGkC,MAAME,KAAK,CAACC,SAASzC,EAAE4B,QAAQ7C,GAAG,OAAOQ,EAAEU,KAAKG,GAAG,MAAMI,GAAEhB,EAAAA,EAAAA,IAAED,EAAEmD,YAAY,QAAQ9C,EAAE,eAAe,mBAAmB,IAAI,MAAMyC,OAAOhD,EAAEwC,SAASrC,EAAEsC,OAAOpB,EAAE4B,MAAMvD,KAAKuB,EAAEqC,SAAS,CAAC,MAAM3C,EAAE,GAAG,IAAI,IAAIJ,EAAE,EAAEA,EAAEb,EAAEe,OAAOF,GAAGI,EAAE,CAAC,MAAMM,EAAEvB,EAAE6D,MAAMhD,EAAEA,EAAEI,GAAGe,EAAE,IAAI8B,SAASxD,GAAG,MAAMA,GAAG0B,EAAE+B,OAAO,kBAAkBzD,GAAGG,GAAGuB,EAAE+B,OAAO,WAAW,QAAQpC,GAAGK,EAAE+B,OAAO,SAASpC,GAAG,IAAIqB,EAAE,EAAE,IAAI,MAAMU,SAASlD,EAAEqC,QAAQvC,KAAKiB,EAAES,EAAE+B,OAAO,UAAUf,EAAE1C,EAAEE,GAAGwB,EAAE+B,OAAO,IAAI,cAAcvD,EAAEyB,OAAOC,QAAQT,EAAE,CAACuC,OAAO,OAAOC,KAAKjC,EAAED,OAAQ,OAADV,QAAC,IAADA,OAAC,EAADA,EAAGU,QAAQ,CAAC,CAAC,CAACnB,eAAeW,EAAEf,EAAES,EAAEJ,GAAG,IAAII,EAAEgC,UAAU,MAAM,IAAI3C,EAAAA,EAAE,4CAA4C,6CAA6CE,EAAEU,KAAKL,GAAG,MAAMQ,GAAEZ,EAAAA,EAAAA,IAAED,EAAEmD,YAAY,yBAAyBnD,EAAEyB,OAAOC,QAAQb,EAAE,CAAC2C,OAAO,OAAOpC,MAAM,CAACa,SAASxB,EAAEkC,MAAMpB,OAAQ,OAADlB,QAAC,IAADA,OAAC,EAADA,EAAGkB,SAASd,EAAEiD,WAAW,IAAI,CAACtD,eAAea,EAAEjB,EAAEF,SAASE,EAAEU,KAAKZ,GAAG,MAAMW,GAAER,EAAAA,EAAAA,IAAED,EAAEmD,YAAY,mBAAmB,OAAOnD,EAAEyB,OAAOC,QAAQjB,EAAE,CAAC+C,OAAO,OAAOpC,MAAM,CAACuC,WAAU,GAAIpC,OAAQ,OAADzB,QAAC,IAADA,OAAC,EAADA,EAAGyB,QAAQ,CAAC,SAASJ,EAAEnB,GAAG,MAAMF,EAAEE,EAAE4D,YAAY,KAAK,OAAO,IAAI9D,EAAE,CAAC,IAAIE,GAAG,CAACA,EAAEqD,MAAM,EAAEvD,GAAGE,EAAEqD,MAAMvD,EAAE,GAAG,CAAC,SAASN,EAAEQ,GAAG,MAAMF,EAAEG,GAAiC,SAAWD,GAAG,MAAMF,GAAEW,EAAAA,EAAAA,IAAET,GAAG,OAAO,MAAMF,EAAE,CAACE,EAAE,IAAI,CAACA,EAAEqD,MAAM,EAAErD,EAAEO,OAAOT,EAAES,OAAO,GAAE,IAAAmC,OAAK5C,GAAI,CAAvH0B,CAAExB,IAAIS,EAAEJ,GAAGc,EAAErB,GAAG,MAAM,CAACW,EAAEJ,EAAEJ,EAAE,CAA2FG,eAAeoC,EAAE1C,GAAG,MAAG,SAASA,EAAE+D,KAAY/D,EAAEgE,KAAQ,SAAShE,EAAE+D,KAAY,IAAIE,KAAK,CAACjE,EAAEkE,YAAY,CAACH,KAAK,4BAAkC7D,EAAAA,EAAAA,GAAEF,EAAEmE,IAAI,CAACC,aAAa,UAAUC,IAAI,CAAkH,SAASC,EAAEpE,EAAEF,GAAG,IAAIE,EAAEyC,UAAU,OAAO,KAAK,MAAMhC,EAAE,CAACJ,GAAGb,EAAEQ,EAAE2C,MAAM,OAAO3C,EAAE0D,WAAWvB,kBAAiBlC,EAAAA,EAAAA,IAAEQ,EAAEX,EAAEO,GAAG,C,2FCAlqED,eAAeoC,EAAExC,EAAEF,EAAEG,GAAG,MAAMI,QAAQmB,EAAExB,EAAEF,EAAEG,SAASoE,EAAEhE,EAAEP,EAAEG,EAAE,CAACG,eAAeW,EAAEf,EAAEF,EAAEG,EAAEI,EAAEI,GAAG,MAAMI,QAAQW,EAAEvB,EAAEI,EAAEI,SAAST,EAAEsE,OAAO,CAACH,KAAKrE,UAAUuE,EAAExD,EAAER,EAAEI,EAAE,CAACL,eAAeoB,EAAEnB,EAAEmC,EAAEzB,GAAG,GAAK,OAADyB,QAAC,IAADA,IAAAA,EAAGX,UAAU,OAAO,MAAML,EAAEgB,EAAEkB,aAAarD,EAAEqD,WAAW,IAAIa,IAAIlE,EAAEmE,OAAO,IAAID,IAAIlE,EAAEmE,MAAMjE,OAAO,EAAEF,EAAEqD,WAAWlB,EAAEkB,WAAW,MAAMW,EAAE,IAAIE,IAAI/B,EAAEX,UAAU4C,OAAO3C,KAAK9B,GAAGA,EAAEiC,SAASU,QAAQnD,EAAE,IAAI+E,IAAIH,EAAE,GAAGC,EAAE3E,SAASM,IAAIwB,EAAEkD,OAAO1E,GAAGK,EAAEmE,MAAMvB,KAAKjD,EAAE,IAAI,MAAM2E,EAAE,GAAGxD,EAAE,GAAGyD,EAAE,GAAG,IAAI,MAAM5E,KAAKwC,EAAEX,UAAUgD,SAAS,GAAGrD,EAAEkD,OAAO1E,EAAEiC,SAASU,MAAM0B,EAAEzB,IAAI5C,EAAEiC,SAASU,OAAOnD,EAAEoD,IAAI5C,EAAEiC,SAASU,MAAM,CAAC,MAAMV,SAASnC,EAAEuC,QAAQpC,EAAE6E,OAAOtC,GAAGxC,EAAEe,GAAEF,EAAAA,EAAAA,IAAEf,GAAEW,EAAAA,EAAAA,OAAKJ,EAAEmE,MAAMvB,KAAKlC,EAAE4B,MAAMgC,EAAE1B,KAAK,CAAChB,SAASlB,EAAEsB,cAAcpB,EAAAA,EAAAA,IAAEhB,GAAGqC,SAAStC,EAAEsC,WAAWE,GAAGoC,EAAE3B,MAAM,IAAIT,EAAEzB,IAAI,KAAK,CAACV,EAAEmE,MAAMvB,KAAKjD,EAAEiC,SAASU,MAAMxB,EAAE8B,KAAK,CAAChB,SAASjC,EAAEiC,SAASI,cAAcpB,EAAAA,EAAAA,IAAEjB,EAAEqC,SAASC,SAAStC,EAAEsC,WAAW,MAAMxC,EAAEE,EAAE8E,OAAOhF,GAAG8E,EAAE3B,MAAM,IAAInD,EAAEE,EAAEiC,YAAYzC,EAAEuF,IAAI/E,EAAEiC,SAASU,KAAK,CAAC,IAAI,MAAM3C,KAAKwC,EAAEX,UAAUmD,MAAM,GAAG3E,EAAEmE,MAAMvB,KAAKjD,EAAEiC,SAASU,MAAMnB,EAAEoB,IAAI5C,EAAEiC,SAASU,MAAMnB,EAAEkD,OAAO1E,EAAEiC,SAASU,UAAU,CAACgC,EAAE1B,KAAK,CAAChB,SAASjC,EAAEiC,SAASI,cAAcpB,EAAAA,EAAAA,IAAEjB,EAAEqC,SAASC,SAAStC,EAAEsC,WAAW,MAAMxC,EAAEE,EAAE8E,OAAOhF,GAAG8E,EAAE3B,MAAM,IAAInD,EAAEE,EAAEiC,WAAW,CAAC,GAAG0C,EAAEpE,QAAQY,EAAEZ,OAAO,CAAC,MAAM0E,qBAAqBjF,SAAS,8CAAsDA,EAAEwC,EAAEkB,WAAWiB,EAAE,MAAM5D,SAASf,EAAEwC,EAAEkB,WAAWvC,EAAE,SAASJ,EAAE,CAAC,GAAG6D,EAAElF,SAASM,GAAGA,MAAM,IAAIoE,EAAE7D,OAAO,OAAOiB,EAAE,MAAM0D,QAAQpF,EAAAA,EAAAA,IAAEsE,GAAG,IAAGnE,EAAAA,EAAAA,IAAEc,GAAGmE,EAAE3E,OAAO,EAAE,MAAM,IAAIP,EAAAA,EAAE,iBAAiB,uCAAuC,CAACmF,OAAOD,IAAI,OAAO1D,CAAC,CAACpB,eAAeiE,EAAErE,EAAEF,EAAEG,GAAG,IAAID,IAAIF,EAAE4D,WAAW,OAAO,MAAMjD,EAAE,GAAG,IAAI,MAAMJ,KAAKL,EAAE,CAAC,MAAMA,EAAEF,EAAE4D,WAAWvB,iBAAiB9B,GAAGI,EAAEwC,KAAKjD,EAAE0D,WAAW0B,eAAepF,EAAEC,GAAG,OAAOI,EAAAA,EAAAA,IAAEI,EAAE,C,wECAtxD,SAASjB,EAAEA,GAAG,GAAGa,EAAAA,EAAEiB,SAAQkB,EAAAA,EAAAA,GAAEhD,EAAEiC,OAAOwC,KAAK,MAAM,IAAIhE,EAAAA,EAAE,2CAA0C,8BAAAyC,OAA+BlD,EAAEiC,OAAOwC,IAAG,0BAAyB,C,0DCAlQ7D,eAAeH,EAAED,GAAG,MAAMC,EAAE,GAAG,IAAI,MAAMI,KAAKL,EAAEqF,UAAU,GAAG,eAAehF,GAAG,mBAAmBA,EAAEiF,WAAW,CAAC,MAAMtF,EAAEK,EAAEiF,aAAatF,GAAGC,EAAEgD,KAAKjD,EAAE,OAAOuF,QAAQC,WAAWvF,EAAE,CAAC,MAAMI,EAAE,IAAIkE,IAAI,CAAC,oBAAoB,uBAAuB,qBAAqB,2BAA2B,oBAAoB,SAASzE,EAAEG,EAAEH,EAAEiB,GAAE,IAAA0E,EAAC,IAAIhF,GAAa,QAAXgF,EAACxF,EAAEyF,gBAAQ,IAAAD,EAAAA,EAAE,IAAIE,QAAQhG,IAAA,IAAEkE,KAAK7D,GAAEL,EAAA,MAAG,UAAUK,CAAC,IAAG8B,KAAK8D,IAAA,IAAEC,KAAK5F,EAAE6F,QAAQzF,EAAE0F,QAAQjG,GAAE8F,EAAA,OAAG,IAAI5F,EAAAA,EAAEC,EAAEI,EAAEP,EAAE,IAAG,GAAGG,EAAE+F,sBAAsBvF,EAAEA,EAAEiC,OAAOzC,EAAE+F,oBAAoBlE,KAAK7B,GAAG,IAAID,EAAAA,EAAE,kBAAiB,iBAAA0C,OAAkBzC,EAAC,2BAA0Bc,EAAE,CAAC,MAAMkF,kBAAkBjG,EAAEkG,8BAA8BjG,EAAE,GAAGkG,+BAA+BrG,GAAGiB,EAAEf,IAAIS,EAAEA,EAAEkF,QAAQS,IAAA,IAAEP,KAAK7F,GAAEoG,EAAA,QAAK/F,EAAEuC,IAAI5C,IAAIC,EAAEoG,SAASrG,GAAG,KAAIF,IAAIW,EAAEA,EAAEkF,QAAQ3F,GAAG,yCAAyCA,EAAE6F,OAAO,CAAC,GAAGpF,EAAEF,OAAO,EAAE,MAAM,IAAIP,EAAAA,EAAEF,EAAEwG,UAAU,2GAA2G,CAACnB,OAAO1E,GAAG,C,mRCAoc,MAAM8F,EAAE,CAAC,mBAAmB,gBAAgB,gBAAgB,gBAAgB,mBAAmB,qBAAqB,iBAAiB,kBAAkB,+BAA+B,oCAAoC,8BAA8B,mCAAmC,yBAAyB,8BAA8B,wCAAwC,oCAAoC,kCAAkCzE,KAAK9B,GAAGA,EAAEwG,gBAAgBpG,eAAeqG,EAAEzG,EAAEF,EAAEe,GAAE,IAAA6F,EAAE,QAADA,EAAA7F,SAAC,IAAA6F,IAAD7F,EAAI,CAAC,GAA6zB,SAAWf,EAAEG,GAAG,IAAIA,EAAEyD,WAAW,MAAM,IAAI1D,EAAAA,EAAE,GAAD0C,OAAI5C,EAAE+F,KAAI,wBAAuB,0DAAyDc,EAAAA,EAAAA,GAAE1G,EAAEyD,YAAYkD,EAAE9G,EAAEG,EAAEyD,WAAW,CAAl+BmD,CAAE7G,EAAEF,SAASG,EAAAA,EAAAA,KAAG,KAAKH,EAAEgH,yBAAyBhH,EAAEY,aAAaqG,EAAEjH,SAASkH,EAAAA,EAAAA,GAAElH,SAASmH,EAAEjH,EAAEF,GAAG,MAAMO,EAAEP,EAAE4D,WAAWlE,GAAE0F,EAAAA,EAAAA,GAAE7E,EAAE,WAAU,GAAIU,EAAEjB,EAAEoH,MAAM,CAAC,EAAE1H,GAAG,aAAa+F,QAAQ4B,IAAI3H,EAAEqC,UAAUuF,oBAAmBC,EAAAA,EAAAA,GAAE7H,EAAE,CAAC8G,UAAS,GAAA5D,OAAI1C,EAAE6F,KAAI,UAAShF,SAASyG,EAAExH,EAAEO,SAAinID,eAAkBJ,EAAEF,EAAEG,EAAEY,EAAER,SAASJ,EAAEqE,OAAO,CAACH,KAAKtD,IAAI0G,EAAGvH,EAAEF,EAAEG,EAAEY,EAAER,EAAE,CAA3qImH,CAAGxH,EAAEF,EAAEO,EAAEU,EAAEvB,SAAS+F,QAAQ4B,IAAI,CAACrH,EAAE2H,uBAAsBC,EAAAA,EAAAA,GAAE5H,EAAE6H,mBAAmBnI,KAAKa,CAAC,CAACD,eAAewH,EAAE5H,EAAEF,EAAEe,EAAER,GAAE,IAAAwH,EAAE,QAADA,EAAAxH,SAAC,IAAAwH,IAADxH,EAAI,CAAC,GAAE,MAAMb,EAAigD,SAAWQ,EAAEF,GAAG,IAAIG,EAAE0E,EAAAA,QAAEmD,KAAKhI,GAAG,OAAOG,EAAE8H,KAAK9H,EAAEA,EAAE+H,QAAQ/H,EAAE8H,GAAG,MAAM9H,EAAE4D,OAAO5D,EAAE4D,KAAK7D,EAAEiI,UAAUhI,EAAEwB,SAASxB,EAAEwB,OAAOD,EAAAA,EAAE0G,eAAcvB,EAAAA,EAAAA,GAAE1G,GAAG2G,EAAE5G,EAAEC,GAAGA,CAAC,CAAjpDkI,CAAEnI,EAAEa,SAASZ,EAAAA,EAAAA,KAAG,KAAKH,EAAEgH,yBAAyBhH,EAAEY,OAAqrB,SAAWZ,EAAEG,GAAG,MAAMY,EAAEZ,EAAEoF,UAAUM,QAAQ3F,IAAC,IAAAoI,EAAA,MAAE,gBAAgBpI,EAAE6D,MAAM,yBAAsC,QAAjBuE,EAAGpI,EAAEqI,oBAAY,IAAAD,OAAA,EAAdA,EAAgBE,UAAU,IAAE,GAAGzH,EAAEN,OAAO,MAAM,IAAIP,EAAAA,EAAE,GAAD0C,OAAI5C,EAAE+F,KAAI,8DAAAnD,OAA6D5C,EAAE+F,KAAI,sEAAqE,CAAC0C,OAAO1H,EAAE2H,WAAW,CAAv+BC,CAAEzI,EAAEF,SAASiH,EAAEjH,SAASkH,EAAAA,EAAAA,GAAElH,SAASmH,EAAEjH,EAAEF,GAAG,MAAMiB,GAAEmE,EAAAA,EAAAA,GAAE1F,EAAE,WAAU,GAAIiB,EAAEX,EAAEoH,MAAM,CAAC,EAAEnG,SAASwE,QAAQ4B,IAAIpG,EAAEc,UAAUuF,oBAAmBC,EAAAA,EAAAA,GAAEtG,EAAE,CAACuF,UAAS,GAAA5D,OAAI1C,EAAE6F,KAAI,UAASxF,SAAw7DD,eAAiBJ,EAAEF,IAAG4I,EAAAA,EAAAA,IAAE5I,EAAE6I,IAAGD,EAAAA,EAAAA,IAAE5I,EAAE8I,IAAGF,EAAAA,EAAAA,IAAE5I,EAAE8E,EAAAA,GAAEiE,WAAUH,EAAAA,EAAAA,IAAE5I,EAAEgJ,IAAGJ,EAAAA,EAAAA,IAAE5I,EAAEiJ,IAAGL,EAAAA,EAAAA,IAAE5I,EAAEkJ,IAAGN,EAAAA,EAAAA,IAAE5I,EAAEmJ,IAAGP,EAAAA,EAAAA,IAAE5I,EAAEoJ,SAAS5B,EAAEtH,EAAEF,EAAE,CAAlhEqJ,CAAErJ,EAAEN,GAAG,MAAM2B,EAAErB,EAAEsJ,oBAAoB,aAA+xHhJ,eAAkBN,EAAEG,EAAEY,EAAER,EAAEb,EAAEuB,GAAG,MAAMN,EAAER,EAAEyD,WAAWvC,EAAE,CAACkI,KAAK5I,EAAE6I,gBAAkB,OAAD7I,QAAC,IAADA,IAAAA,EAAGsH,KAAKtH,EAAEgB,OAAO8H,OAAO/G,EAAE3B,EAAEY,aAAae,EAAEgH,SAAS,MAAMC,YAAYxI,EAAEyI,aAAatF,SAAsNhE,eAAkBJ,EAAEF,GAAE,IAAA6J,EAAC,MAAMN,KAAKpJ,EAAEqJ,cAAczI,GAAGb,EAAE,OAAQ,OAADC,QAAC,IAADA,GAAAA,EAAG8H,IAAkB,QAAhB4B,EAAE1J,EAAE2J,oBAAY,IAAAD,GAAdA,EAAgBtD,SAAS,WAAWpG,EAAEwB,OAAOoI,iBAAiB/J,EAAE+J,eAAe,CAACJ,aAAY,EAAGC,cAAa,IAAK7I,SAASZ,EAAE6J,SAAS,CAACL,YAAY,UAAUxJ,EAAE8J,aAAa,WAAW9J,EAAE8J,YAAYL,cAAa,IAAK,CAACD,aAAY,EAAGC,cAAa,EAAG,CAAxgBM,CAAG7I,EAAEqB,GAAG,GAAGrB,EAAEmI,gBAAFnI,EAAEmI,cAAgBlF,IAAGnD,EAAE,MAAM,IAAIjB,EAAAA,EAAE,GAAD0C,OAAI5C,EAAE+F,KAAI,6BAA4B,0DAA0D,MAAMrE,QAAsXpB,eAAkBJ,EAAEF,EAAEG,EAAEI,GAAE,IAAA4J,EAAC,MAAMzK,EAAEQ,EAAEyB,QAAQ4H,KAAKtI,GAAGjB,GAAGoK,OAAOzJ,EAAE0J,iBAAiBhJ,GAAGd,EAAE,IAAImC,GAAE,EAAG,GAAGrB,GAAI,OAADJ,QAAC,IAADA,GAAAA,EAAGgH,KAAIlH,EAAAA,EAAAA,IAAEE,EAAEU,OAAOwC,IAAIzE,EAAEyE,MAAMmG,SAASrJ,EAAEU,OAAO4I,eAAe,KAAK,KAAK,CAAC,MAAM1I,MAAM3B,SAASe,EAAEuJ,iBAAiB9H,IAAIxC,CAAC,CAAC,GAAGwC,EAAE,CAAC,MAAM1C,QAAQiB,EAAEwJ,KAAK,CAACC,cAAc,MAAMN,OAAOzJ,IAAIT,EAAE+H,GAAGjI,EAAEiI,GAAG/H,EAAEyB,OAAO3B,EAAE2B,OAAO,MAAMZ,EAAEb,EAAEyK,eAAezK,EAAEU,OAAOV,EAAE0K,KAAK7J,SAASb,EAAEsE,OAAO,CAACH,KAAKlE,GAAG,YAAkB,QAAZgK,EAAMzK,EAAE+J,YAAI,IAAAU,OAAA,EAANA,EAAQU,QAAQ,CAACtB,KAAKrJ,EAAEkK,OAAOzJ,EAAE0D,KAAKlE,KAAK,OAAOuC,CAAC,CAAtyBoI,CAAG/J,EAAEM,EAAEd,EAAEU,GAAG,OAAOd,EAAEyD,WAAW7C,EAAE0G,EAAGzH,EAAEG,EAAEY,EAAER,EAAEb,GAAGgC,CAAC,CAA3oIqJ,CAAG7K,EAAEF,EAAEN,EAAEiB,EAAEM,EAAEV,KAAKP,EAAE6H,mBAAmBjE,WAAWlE,GAAGM,EAAEgL,0BAA0B3J,SAASoE,QAAQ4B,IAAI,CAACrH,EAAE2H,uBAAsBC,EAAAA,EAAAA,GAAE5H,EAAE6H,mBAAmB5G,KAAKvB,CAAC,CAAyK,SAASoH,EAAE9G,EAAEG,GAAG,GAAGA,EAAE4D,OAAO/D,EAAEmI,SAAS,MAAM,IAAIjI,EAAAA,EAAE,GAAD0C,OAAI5C,EAAE+F,KAAI,8DAAAnD,OAA6D5C,EAAEmI,SAAQ,KAAI,CAA2T7H,eAAe6G,EAAEnH,EAAEe,GAAE,IAAAkK,EAAC,GAAa,QAAVA,EAAClK,EAAEmK,eAAO,IAAAD,IAATA,EAAWE,WAAW1K,OAAO,MAAM,IAAIP,EAAAA,EAAE,GAAD0C,OAAI5C,EAAE+F,KAAI,SAAQ,wDAAwD,IAAIxF,EAAE,KAAK,SAASJ,EAAAA,EAAAA,KAAG,KAAK,MAAMD,GAAEkL,EAAAA,EAAAA,IAAErK,EAAEsK,sBAAsBtK,EAAEmK,SAAS,OAAO3K,EAAEL,EAAEoL,kBAAkBpL,EAAEqL,QAAQ,MAAK5K,EAAAA,EAAAA,IAAEJ,EAAEQ,EAAEsK,sBAAsBC,kBAAkB,MAAM,IAAIpL,EAAAA,EAAE,GAAD0C,OAAI5C,EAAE+F,KAAI,SAAQ,oFAAoF,CAACyF,SAASzK,EAAEsK,sBAAsBC,iBAAiBG,OAAOlL,GAAG,CAAoJ,SAAS0G,EAAE/G,GAAG,MAAMF,EAAE,GAAG,OAAOE,EAAEgL,SAASlL,EAAEmD,KAAKjD,EAAEgL,QAAQtK,QAAQV,EAAEwL,QAAQ1L,EAAEmD,KAAKjD,EAAEwL,OAAO9K,QAAQ6E,QAAQC,WAAW1F,GAAG2L,MAAM,QAAQ,CAACrL,eAAekH,EAAEtH,EAAEF,GAAGA,EAAE4L,aAAs0CtL,eAAkBJ,EAAEF,GAAG,MAAMG,EAAEH,EAAEkI,QAAQ2D,YAAY,IAAI9K,EAAE,GAAGZ,EAAEM,OAAO,EAAE,IAAI,MAAMF,KAAKJ,EAAEY,EAAER,EAAEuL,MAAM/K,EAAE+K,QAAQ/K,EAAER,GAAGQ,EAAER,OAAOQ,EAAEZ,EAAE,GAAG,OAAeG,eAAkBJ,EAAEF,GAAG,MAAMG,EAAEH,EAAEsL,iBAAiB,GAAGnL,EAAE4L,QAAQ,OAAO/L,EAAEkI,QAAQ,GAAG/H,EAAE6L,cAAc,OAAO3K,EAAAA,EAAAA,IAAErB,GAAG,MAAMiM,sBAAsBlL,SAAS,gCAAuDR,QAAQQ,EAAEb,GAAGR,EAAE,IAAIwM,EAAAA,EAAiD,OAA/CxM,EAAEyM,WAAW,CAACnM,GAAGN,EAAE0M,oBAAoBnL,EAAAA,EAAEoL,aAAmBC,EAAAA,EAAAA,GAAE/L,EAAEb,IAAI,EAAE,CAA9S6M,CAAGrM,EAAEa,EAAE,CAA18CyL,CAAGtM,EAAE0D,WAAW1D,EAAEmL,sBAAsBoB,UAAUC,sBAAuYpM,eAAiBJ,EAAEF,IAAG2M,EAAAA,EAAAA,IAAE3M,EAAE4M,SAAmJ,SAAY1M,GAAG,MAAMF,EAAE6M,EAAG3M,GAAG8B,KAAK9B,GAAGA,EAAEU,SAAS8H,UAAU,OAAOjD,QAAQC,WAAW1F,GAAG2L,MAAM,QAAQ,CAA/OmB,CAAG5M,GAAmjB,SAAYA,EAAEF,IAAGuE,EAAAA,EAAAA,GAAEvE,EAAE6I,KAAItE,EAAAA,EAAAA,GAAEvE,EAAEmJ,KAAI5E,EAAAA,EAAAA,GAAEvE,EAAEoJ,KAAI7E,EAAAA,EAAAA,GAAEvE,EAAEkJ,KAAK6D,EAAG7M,IAAG0I,EAAAA,EAAAA,IAAE5I,EAAEgN,IAAGL,EAAAA,EAAAA,IAAE3M,EAAEgN,EAAE,CAArnBC,CAAG/M,EAAEF,GAAinB,SAAYE,EAAEF,GAAG+M,EAAG7M,IAAGyM,EAAAA,EAAAA,IAAE3M,EAAEkN,IAAGtE,EAAAA,EAAAA,IAAE5I,EAAEkN,EAAE,CAAlpBC,CAAGjN,EAAEF,GAA8oB,SAAYE,EAAEF,KAAIuE,EAAAA,EAAAA,GAAEvE,EAAEgJ,IAAzN,SAAY9I,GAAG,OAAO2M,EAAG3M,GAAG2F,QAAQ3F,GAAG,UAAUA,EAAE6D,OAAOqJ,OAAOpN,GAAGA,EAAEqN,QAAqzB,SAAYnN,EAAEF,GAAG,OAAOmB,EAAAA,EAAAA,IAAEnB,IAAIA,EAAEsN,aAAaC,WAAWC,cAA3H,SAAYtN,GAAG,OAAOoE,EAAAA,EAAAA,IAAEpE,IAAI,cAAcA,EAAE6D,MAAM,UAAU7D,EAAE6D,IAAI,CAAuE0J,CAAGzN,KAAKA,EAAE4D,aAAa,SAAS5D,EAAE+D,MAAM,gBAAgB/D,EAAE+D,QAAQ/D,EAAEsN,aAAaC,WAAWG,qBAAuG,SAAYxN,GAAG,MAAM,SAASA,EAAE6D,OAAOrB,EAAAA,EAAAA,IAAExC,EAAEiE,MAAMsC,EAAEkH,MAAM3N,IAAC,IAAA4N,EAAA,OAAO,QAAPA,EAAE1N,EAAEiE,WAAG,IAAAyJ,OAAA,EAALA,EAAOlH,cAAcH,SAAS,IAAIvG,EAAE,IAAI,GAAG,CAAzL6N,CAAG7N,KAAI8N,EAAAA,EAAAA,IAAE9N,KAAKA,EAAEsL,iBAAiByC,OAAO7N,EAAEmL,sBAAsBC,iBAAiB,CAArjC0C,CAAG9N,EAAEF,IAAI,CAAsIiO,CAAG/N,IAAGyM,EAAAA,EAAAA,IAAE3M,EAAEkO,IAAGtF,EAAAA,EAAAA,IAAE5I,EAAEkO,EAAE,CAAxrBC,CAAGjO,EAAEF,GAAorB,SAAYE,EAAEF,IAAGoO,EAAAA,EAAAA,IAAElO,EAAEgL,UAASyB,EAAAA,EAAAA,IAAE3M,EAAEqO,IAAGzF,EAAAA,EAAAA,IAAE5I,EAAEqO,EAAE,CAA5tBC,CAAGpO,EAAEF,GAAwtB,SAAYE,EAAEF,GAAE,IAAAuO,EAAkB,QAAjBA,EAAArO,EAAEsO,uBAAe,IAAAD,GAAjBA,EAAmB9N,QAAOkM,EAAAA,EAAAA,IAAE3M,EAAEyO,IAAG7F,EAAAA,EAAAA,IAAE5I,EAAEyO,EAAE,CAA7wBC,CAAGxO,EAAEF,GAAywB,SAAYE,EAAEF,GAAGE,EAAEyO,SAAQhC,EAAAA,EAAAA,IAAE3M,EAAE4O,IAAGhG,EAAAA,EAAAA,IAAE5I,EAAE4O,EAAE,CAA9yBC,CAAG3O,EAAEF,GAAGA,EAAE8J,eAAe9J,EAAE8J,aAAa9J,EAAE8J,aAAajE,QAAQ,CAAC3F,EAAEF,EAAEG,IAAIA,EAAE2O,QAAQ5O,KAAKF,IAAI,CAA7hB+O,CAAE7O,EAAEF,EAAE,CAAC,MAAM4M,EAAE9H,EAAAA,GAAEkK,MAAMnG,EAAE,oBAAoBmE,EAAE,YAAYE,EAAE,eAAelE,EAAE,kBAAkBkF,EAAE,UAAU/E,EAAE,oBAAoBC,EAAE,mBAAmBF,EAAE,uBAAuBD,EAAE,oBAAoBH,EAAE,oBAAoBuF,EAAEvJ,EAAAA,GAAEmK,kBAAkBR,EAAE,iBAAiBG,EAAE,MAA6X,SAAS/B,EAAG3M,GAAG,OAAOA,EAAEqF,UAAU3C,OAAO1C,EAAEgP,UAAU,CAAC,SAASnC,EAAG7M,GAAG,OAAO2M,EAAG3M,GAAGyN,MAAMzN,GAAGA,EAAEmN,SAAQlM,EAAAA,EAAAA,IAAEjB,IAAIA,EAAEoN,aAAaC,WAAW4B,iBAAiBjP,EAAEkP,iBAAiB,kBAAkBlP,EAAE6D,MAAM7D,EAAEmP,UAAU1B,MAAMzN,GAAGA,EAAEkP,mBAAmB,CAAg6E,SAAS3H,EAAGvH,EAAEC,EAAEY,EAAEE,EAAEN,GAAGX,EAAAA,EAAEsP,UAAU1E,KAAK2E,KAAKpP,EAAE,CAACqP,QAAQvO,EAAEuO,QAAQC,aAAaxO,EAAEwO,aAAaC,oBAAoBzO,EAAEyO,qBAAqB,CAACC,OAAOzP,EAAEyP,OAAOC,gBAAe,EAAGzL,IAAIpD,EAAEF,SAAQN,EAAAA,EAAAA,IAAEQ,EAAEF,cAAS,KAASnB,EAAAA,EAAAA,GAAEiB,GAAGR,EAAEoI,aAAatH,CAAC,C","sources":["../node_modules/@arcgis/core/core/accessorSupport/originUtils.js","../node_modules/@arcgis/core/core/multiOriginJSONSupportUtils.js","../node_modules/@arcgis/core/portal/support/resourceUtils.js","../node_modules/@arcgis/core/webdoc/support/resourceUtils.js","../node_modules/@arcgis/core/webdoc/support/saveAPIKeyUtils.js","../node_modules/@arcgis/core/webdoc/support/saveUtils.js","../node_modules/@arcgis/core/webdoc/support/webdocSaveUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport{isMultiOriginJSONMixin as r}from\"../multiOriginJSONSupportUtils.js\";function i(i){i?.writtenProperties&&i.writtenProperties.forEach((({target:i,propName:t,newOrigin:e})=>{r(i)&&e&&i.originOf(t)!==e&&i.updateOrigin(t,e)}))}export{i as updateOrigins};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nfunction i(i){return i&&\"getAtOrigin\"in i&&\"originOf\"in i}export{i as isMultiOriginJSONMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../request.js\";import t from\"../../core/Error.js\";import{join as r,getPathExtension as s}from\"../../core/urlUtils.js\";async function o(e,t={},s){await e.load(s);const o=r(e.itemUrl,\"resources\"),{start:a=1,num:n=10,sortOrder:c=\"asc\",sortField:l=\"resource\"}=t,i={query:{start:a,num:n,sortOrder:c,sortField:l,token:e.apiKey},signal:s?.signal},u=await e.portal.request(o,i);return{total:u.total,nextStart:u.nextStart,resources:u.resources.map((({created:t,size:r,resource:s})=>({created:new Date(t),size:r,resource:e.resourceFromPath(s)})))}}async function a(e,s,o,a){const n=new Map;for(const{resource:r,content:i,compress:u,access:p}of s){if(!r.hasPath())throw new t(`portal-item-resource-${o}:invalid-path`,\"Resource does not have a valid path\");const[e,s]=l(r.path),a=`${e}/${u??\"\"}/${p??\"\"}`;n.has(a)||n.set(a,{prefix:e,compress:u,access:p,files:[]});n.get(a).files.push({fileName:s,content:i})}await e.load(a);const c=r(e.userItemUrl,\"add\"===o?\"addResources\":\"updateResources\");for(const{prefix:t,compress:r,access:l,files:i}of n.values()){const s=25;for(let o=0;o<i.length;o+=s){const n=i.slice(o,o+s),u=new FormData;t&&\".\"!==t&&u.append(\"resourcesPrefix\",t),r&&u.append(\"compress\",\"true\"),l&&u.append(\"access\",l);let p=0;for(const{fileName:e,content:t}of n)u.append(\"file\"+ ++p,t,e);u.append(\"f\",\"json\"),await e.portal.request(c,{method:\"post\",body:u,signal:a?.signal})}}}async function n(e,s,o){if(!s.hasPath())throw new t(\"portal-item-resources-remove:invalid-path\",\"Resource does not have a valid path\");await e.load(o);const a=r(e.userItemUrl,\"removeResources\");await e.portal.request(a,{method:\"post\",query:{resource:s.path},signal:o?.signal}),s.portalItem=null}async function c(e,t){await e.load(t);const s=r(e.userItemUrl,\"removeResources\");return e.portal.request(s,{method:\"post\",query:{deleteAll:!0},signal:t?.signal})}function l(e){const t=e.lastIndexOf(\"/\");return-1===t?[\".\",e]:[e.slice(0,t),e.slice(t+1)]}function i(e){const[t,r]=u(e),[s,o]=l(t);return[s,o,r]}function u(e){const t=s(e);return null==t?[e,\"\"]:[e.slice(0,e.length-t.length-1),`.${t}`]}async function p(t){if(\"blob\"===t.type)return t.blob;if(\"json\"===t.type)return new Blob([t.jsonString],{type:\"application/json\"});return(await e(t.url,{responseType:\"blob\"})).data}function f(e,t){if(!e.hasPath())return null;const[s,,o]=i(e.path);return e.portalItem.resourceFromPath(r(s,t+o))}function m(e,t){if(!e.hasPath())return null;const[s,,o]=i(e.path);return e.portalItem.resourceFromPath(r(s,t+o))}export{a as addOrUpdateResources,p as contentToBlob,o as fetchResources,f as getSiblingOfSameType,m as getSiblingOfSameTypeI,c as removeAllResources,n as removeResource,i as splitPrefixFileNameAndExtension};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{allSettledErrors as t,throwIfAborted as r,eachAlways as o}from\"../../core/promiseUtils.js\";import{generateUUID as s}from\"../../core/uuid.js\";import{getSiblingOfSameTypeI as a,contentToBlob as c}from\"../../portal/support/resourceUtils.js\";async function p(e,t,r){const o=await u(e,t,r);await h(o,t,r)}async function n(e,t,r,o,s){const a=await u(r,o,s);await e.update({data:t}),await h(a,o,s)}async function u(o,p,n){if(!p?.resources)return;const u=p.portalItem===o.portalItem?new Set(o.paths):new Set;o.paths.length=0,o.portalItem=p.portalItem;const h=new Set(p.resources.toKeep.map((e=>e.resource.path))),i=new Set,m=[];h.forEach((e=>{u.delete(e),o.paths.push(e)}));const f=[],l=[],w=[];for(const e of p.resources.toUpdate)if(u.delete(e.resource.path),h.has(e.resource.path)||i.has(e.resource.path)){const{resource:t,content:r,finish:p}=e,n=a(t,s());o.paths.push(n.path),f.push({resource:n,content:await c(r),compress:e.compress}),p&&w.push((()=>p(n)))}else{o.paths.push(e.resource.path),l.push({resource:e.resource,content:await c(e.content),compress:e.compress});const t=e.finish;t&&w.push((()=>t(e.resource))),i.add(e.resource.path)}for(const e of p.resources.toAdd)if(o.paths.push(e.resource.path),u.has(e.resource.path))u.delete(e.resource.path);else{f.push({resource:e.resource,content:await c(e.content),compress:e.compress});const t=e.finish;t&&w.push((()=>t(e.resource)))}if(f.length||l.length){const{addOrUpdateResources:e}=await import(\"../../portal/support/resourceUtils.js\");await e(p.portalItem,f,\"add\",n),await e(p.portalItem,l,\"update\",n)}if(w.forEach((e=>e())),0===m.length)return u;const d=await t(m);if(r(n),d.length>0)throw new e(\"save:resources\",\"Failed to save one or more resources\",{errors:d});return u}async function h(e,t,r){if(!e||!t.portalItem)return;const s=[];for(const o of e){const e=t.portalItem.resourceFromPath(o);s.push(e.portalItem.removeResource(e,r))}await o(s)}export{p as saveResources,n as updateItemWithResources};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport o from\"../../config.js\";import r from\"../../core/Error.js\";import{supportsApiKey as p}from\"../../support/apiKeyUtils.js\";function i(i){if(o.apiKey&&p(i.portal.url))throw new r(\"save-api-key-utils:api-key-not-supported\",`Saving is not supported on ${i.portal.url} when using an api key`)}export{i as validateSaveAPIKey};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";async function r(e){const r=[];for(const o of e.allLayers)if(\"beforeSave\"in o&&\"function\"==typeof o.beforeSave){const e=o.beforeSave();e&&r.push(e)}await Promise.allSettled(r)}const o=new Set([\"layer:unsupported\",\"property:unsupported\",\"symbol:unsupported\",\"symbol-layer:unsupported\",\"url:unsupported\"]);function t(r,t,n){let s=(r.messages??[]).filter((({type:e})=>\"error\"===e)).map((({name:r,message:o,details:t})=>new e(r,o,t)));if(r.blockedRelativeUrls&&(s=s.concat(r.blockedRelativeUrls.map((r=>new e(\"url:unsupported\",`Relative url '${r}' is not supported`))))),n){const{ignoreUnsupported:e,supplementalUnsupportedErrors:r=[],requiredPropertyChecksDisabled:t}=n;e&&(s=s.filter((({name:e})=>!(o.has(e)||r.includes(e))))),t&&(s=s.filter((e=>\"web-document-write:property-required\"!==e.name)))}if(s.length>0)throw new e(t.errorName,\"Failed to save due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:s})}export{r as beforeSave,t as evaluateWriteErrors};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.29/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";import{MultiOriginJSONSupport as t}from\"../../core/MultiOriginJSONSupport.js\";import{whenOnce as r}from\"../../core/reactiveUtils.js\";import{hasSameCanonicalPortal as a,urlToObject as o}from\"../../core/urlUtils.js\";import{updateOrigins as i}from\"../../core/accessorSupport/originUtils.js\";import n from\"../../geometry/SpatialReference.js\";import{equals as s}from\"../../geometry/support/spatialReferenceUtils.js\";import{webMercatorToGeographic as l}from\"../../geometry/support/webMercatorUtils.js\";import{isServerOrServicesAGOLUrl as p}from\"../../layers/support/arcgisLayerUrl.js\";import{isLayerWithFeatureLayerSource as c,isFeatureCollectionLayer as m}from\"../../layers/support/layerUtils.js\";import u from\"../../portal/Portal.js\";import f from\"../../portal/PortalItem.js\";import{createForItemWrite as d}from\"../../portal/support/jsonContext.js\";import{typeKeyword as w,removeTypeKeyword as y,addTypeKeyword as g,hasTypeKeyword as h}from\"../../portal/support/portalItemUtils.js\";import{project as _}from\"../../rest/geometryService/project.js\";import b from\"../../rest/support/ProjectParameters.js\";import{hasDeveloperBasemapLayer as v,findSpatialReference as R,isDeveloperBasemapLayer as j}from\"../../support/basemapUtils.js\";import{saveResources as P}from\"./resourceUtils.js\";import{validateSaveAPIKey as I}from\"./saveAPIKeyUtils.js\";import{beforeSave as W,evaluateWriteErrors as S}from\"./saveUtils.js\";const A=[\"NatGeo_World_Map\",\"Ocean_Basemap\",\"USA_Topo_Maps\",\"World_Imagery\",\"World_Street_Map\",\"World_Terrain_Base\",\"World_Topo_Map\",\"World_Hillshade\",\"Canvas/World_Light_Gray_Base\",\"Canvas/World_Light_Gray_Reference\",\"Canvas/World_Dark_Gray_Base\",\"Canvas/World_Dark_Gray_Reference\",\"Ocean/World_Ocean_Base\",\"Ocean/World_Ocean_Reference\",\"Reference/World_Boundaries_and_Places\",\"Reference/World_Reference_Overlay\",\"Reference/World_Transportation\"].map((e=>e.toLowerCase()));async function O(e,t,a){a??={},T(e,t),await r((()=>!t.updatingFromView)),await t.load(),await L(t),await W(t),await D(e,t);const o=t.portalItem,i=d(o,\"web-map\",!0),n=t.write({},i);return await Promise.all(i.resources.pendingOperations),S(i,{errorName:`${e.name}:save`},a),await V(t,o),await we(e,t,o,n,i),await Promise.all([t.updateItemThumbnail(),P(t.resourceReferences,i)]),o}async function U(e,t,a,o){o??={};const i=E(e,a);await r((()=>!t.updatingFromView)),await t.load(),C(e,t),await L(t),await W(t),await D(e,t);const n=d(i,\"web-map\",!0),s=t.write({},n);await Promise.all(n.resources.pendingOperations),S(n,{errorName:`${e.name}:save`},o),await Y(t,i);const l=t.getThumbnailState();return await ye(e,t,i,s,n,o)&&(t.resourceReferences.portalItem=i),t.restoreThumbnailFromState(l),await Promise.all([t.updateItemThumbnail(),P(t.resourceReferences,n)]),i}function T(t,r){if(!r.portalItem)throw new e(`${t.name}:portal-item-not-set`,\"Portal item to save to has not been set on the WebMap\");I(r.portalItem),M(t,r.portalItem)}function M(t,r){if(r.type!==t.itemType)throw new e(`${t.name}:portal-item-wrong-type`,`Portal item needs to have type \"${t.itemType}\"`)}function C(t,r){const a=r.allLayers.filter((e=>\"unsupported\"===e.type&&\"KnowledgeGraphLayer\"===e.resourceInfo?.layerType));if(a.length)throw new e(`${t.name}:save-as-invalid-configuration`,`Failed to save a copy of ${t.name} to prevent persisting invalid configuration. See 'details.layers'`,{layers:a.toArray()})}async function D(t,a){if(!a.basemap?.baseLayers.length)throw new e(`${t.name}:save`,\"Map does not have a valid basemap with a base layer.\");let o=null;if(await r((()=>{const e=R(a.initialViewProperties,a.basemap);return o=e.spatialReference,!e.updating})),!s(o,a.initialViewProperties.spatialReference))throw new e(`${t.name}:save`,\"The spatial reference of the basemap is not compatible with the one from the map.\",{expected:a.initialViewProperties.spatialReference,actual:o})}function E(e,t){let r=f.from(t);return r.id&&(r=r.clone(),r.id=null),r.type||(r.type=e.itemType),r.portal||(r.portal=u.getDefault()),I(r),M(e,r),r}function L(e){const t=[];return e.basemap&&t.push(e.basemap.load()),e.ground&&t.push(e.ground.load()),Promise.allSettled(t).then((()=>{}))}async function V(e,t){t.extent=await ce(e.portalItem,e.initialViewProperties.viewpoint.targetGeometry),await Z(e,t)}const G=w.JSAPI,$=\"CollectorDisabled\",k=\"Collector\",B=\"Data Editing\",N=\"OfflineDisabled\",x=\"Offline\",K=\"Workforce Project\",F=\"Workforce Worker\",H=\"Workforce Dispatcher\",J=\"Offline Map Areas\",q=\"FieldMapsDisabled\",z=w.DEVELOPER_BASEMAP,Q=\"UtilityNetwork\",X=\"IPS\";async function Y(e,t){y(t,$),y(t,q),y(t,w.METADATA),y(t,N),y(t,J),y(t,H),y(t,K),y(t,F),await V(e,t)}async function Z(e,t){g(t,G),await ee(e),oe(e,t),ie(e,t),ne(e,t),se(e,t),le(e,t),pe(e,t),t.typeKeywords&&(t.typeKeywords=t.typeKeywords.filter(((e,t,r)=>r.indexOf(e)===t)))}function ee(e){const t=te(e).map((e=>e.load())).toArray();return Promise.allSettled(t).then((()=>{}))}function te(e){return e.allLayers.concat(e.allTables)}function re(e){return te(e).some((e=>e.loaded&&c(e)&&e.capabilities.operations.supportsEditing&&e.editingEnabled&&(\"subtype-group\"!==e.type||e.sublayers.some((e=>e.editingEnabled)))))}function ae(e){return te(e).filter((e=>\"group\"!==e.type)).every((t=>t.loaded&&fe(e,t)))}function oe(e,t){h(t,$)||h(t,K)||h(t,F)||h(t,H)||!re(e)?y(t,k):g(t,k)}function ie(e,t){re(e)?g(t,B):y(t,B)}function ne(e,t){!h(t,N)&&ae(e)?g(t,x):y(t,x)}function se(e,t){v(e.basemap)?g(t,z):y(t,z)}function le(e,t){e.utilityNetworks?.length?g(t,Q):y(t,Q)}function pe(e,t){e.ipsInfo?g(t,X):y(t,X)}async function ce(e,t){const r=t.clone().normalize();let a;if(r.length>1)for(const o of r)a?o.width>a.width&&(a=o):a=o;else a=r[0];return me(e,a)}async function me(e,t){const r=t.spatialReference;if(r.isWGS84)return t.clone();if(r.isWebMercator)return l(t);const{getGeometryServiceURL:a}=await import(\"../../portal/support/geometryServiceUtils.js\"),o=await a(e),i=new b;i.geometries=[t],i.outSpatialReference=n.WGS84;return(await _(o,i))[0]}function ue(e){return m(e)||\"map-notes\"===e.type||\"route\"===e.type}function fe(e,t){return c(t)&&t.capabilities.operations.supportsSync||ue(t)&&!t.portalItem||(\"tile\"===t.type||\"vector-tile\"===t.type)&&(t.capabilities.operations.supportsExportTiles||de(t)||j(t))&&t.spatialReference.equals(e.initialViewProperties.spatialReference)}function de(e){return\"tile\"===e.type&&(p(e.url)&&A.some((t=>e.url?.toLowerCase().includes(\"/\"+t+\"/\"))))}async function we(e,t,r,a,o){await r.update({data:a}),_e(e,t,r,a,o)}async function ye(t,r,a,o,i,n){const s=r.portalItem,l={item:s,authenticated:!(!s?.id||!s.portal.user)},p=a.portal;await p.signIn();const{copyAllowed:c,itemReloaded:m}=await ge(l,p);if(l.authenticated||=m,!c)throw new e(`${t.name}:save-as-copy-not-allowed`,\"Owner of this map does not allow others to save a copy\");const u=await he(a,l,o,n);return r.portalItem=a,_e(t,r,a,o,i),u}async function ge(e,t){const{item:r,authenticated:a}=e;return r?.id&&r.typeKeywords?.includes(\"useOnly\")?r.portal.portalHostname!==t.portalHostname?{copyAllowed:!1,itemReloaded:!1}:(a||await r.reload(),{copyAllowed:\"admin\"===r.itemControl||\"update\"===r.itemControl,itemReloaded:!0}):{copyAllowed:!0,itemReloaded:!1}}async function he(e,t,r,o){const i=e.portal,{item:n}=t,{folder:s,copyAllResources:l}=o;let p=!1;if(l&&n?.id&&a(n.portal.url,i.url)&&parseInt(n.portal.currentVersion,10)>=2023){const{total:e}=await n.fetchResources();p=!!e}if(p){const t=await n.copy({copyResources:\"all\",folder:s});e.id=t.id,e.portal=t.portal;const a=e.toJSON();await e.load(),e.read(a),await e.update({data:r})}else await(i.user?.addItem({item:e,folder:s,data:r}));return p}function _e(e,r,a,n,s){t.prototype.read.call(r,{version:n.version,authoringApp:n.authoringApp,authoringAppVersion:n.authoringAppVersion},{origin:e.origin,ignoreDefaults:!0,url:a.itemUrl?o(a.itemUrl):void 0}),i(s),r.resourceInfo=n}export{O as save,U as saveAs};\n"],"names":["i","writtenProperties","forEach","_ref","target","propName","t","newOrigin","e","r","originOf","updateOrigin","async","o","arguments","length","undefined","s","load","itemUrl","start","a","num","n","sortOrder","c","sortField","l","query","token","apiKey","signal","u","portal","request","total","nextStart","resources","map","created","size","resource","Date","resourceFromPath","Map","content","compress","access","p","hasPath","concat","path","has","set","prefix","files","get","push","fileName","userItemUrl","values","slice","FormData","append","method","body","portalItem","deleteAll","lastIndexOf","type","blob","Blob","jsonString","url","responseType","data","m","h","update","Set","paths","toKeep","delete","f","w","toUpdate","finish","add","toAdd","addOrUpdateResources","d","errors","removeResource","allLayers","beforeSave","Promise","allSettled","_r$messages","messages","filter","_ref2","name","message","details","blockedRelativeUrls","ignoreUnsupported","supplementalUnsupportedErrors","requiredPropertyChecksDisabled","_ref3","includes","errorName","A","toLowerCase","O","_a","I","M","T","updatingFromView","L","W","D","write","all","pendingOperations","S","V","_e","we","updateItemThumbnail","P","resourceReferences","U","_o","from","id","clone","itemType","getDefault","E","_e$resourceInfo","resourceInfo","layerType","layers","toArray","C","y","$","q","METADATA","N","J","H","K","F","Y","getThumbnailState","item","authenticated","user","signIn","copyAllowed","itemReloaded","_r$typeKeywords","typeKeywords","portalHostname","reload","itemControl","ge","_i$user","folder","copyAllResources","parseInt","currentVersion","fetchResources","copy","copyResources","toJSON","read","addItem","he","ye","restoreThumbnailFromState","_a$basemap","basemap","baseLayers","R","initialViewProperties","spatialReference","updating","expected","actual","ground","then","extent","normalize","width","isWGS84","isWebMercator","getGeometryServiceURL","b","geometries","outSpatialReference","WGS84","_","me","ce","viewpoint","targetGeometry","g","G","te","ee","re","k","oe","B","ie","every","loaded","capabilities","operations","supportsSync","ue","supportsExportTiles","some","_e$url","de","j","equals","fe","ae","x","ne","v","z","se","_e$utilityNetworks","utilityNetworks","Q","le","ipsInfo","X","pe","indexOf","Z","JSAPI","DEVELOPER_BASEMAP","allTables","supportsEditing","editingEnabled","sublayers","prototype","call","version","authoringApp","authoringAppVersion","origin","ignoreDefaults"],"sourceRoot":""}